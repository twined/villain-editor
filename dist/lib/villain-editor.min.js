!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["villain-editor"]=e():t["villain-editor"]=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=40)}([function(t,e){t.exports=function(t,e,n,o,r){var i,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(i=t,a=t.default);var l="function"==typeof a?a.options:a;e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns),o&&(l._scopeId=o);var c;if(r?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):n&&(c=n),c){var u=l.functional,d=u?l.render:l.beforeCreate;u?l.render=function(t,e){return c.call(e),d(t,e)}:l.beforeCreate=d?[].concat(d,c):[c]}return{esModule:i,exports:a,options:l}}},function(t,e,n){var o=n(31)("wks"),r=n(35),i=n(2).Symbol,a="function"==typeof i;(t.exports=function(t){return o[t]||(o[t]=a&&i[t]||(a?i:r)("Symbol."+t))}).store=o},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var o=n(15);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports={version:"2.5.4"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports=!n(29)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(8),r=n(17);t.exports=n(5)?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var o=n(3),r=n(58),i=n(74),a=Object.defineProperty;e.f=n(5)?Object.defineProperty:function(t,e,n){if(o(t),e=i(e,!0),o(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=o(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([i]).join("\n")}return[n].join("\n")}function o(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var o=n(e,t);return e[2]?"@media "+e[2]+"{"+o+"}":o}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var o=n(0)(n(42),n(89),null,null,null);o.options.__file="/Users/trond/dev/js/villain-editor/src/components/blocks/Block.vue",o.esModule&&Object.keys(o.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] Block.vue: functional components are not supported with templates, they should use render functions."),t.exports=o.exports},function(t,e,n){var o=n(0)(n(48),n(90),null,null,null);o.options.__file="/Users/trond/dev/js/villain-editor/src/components/tools/VillainPlus.vue",o.esModule&&Object.keys(o.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] VillainPlus.vue: functional components are not supported with templates, they should use render functions."),t.exports=o.exports},function(t,e,n){function o(t){for(var e=0;e<t.length;e++){var n=t[e],o=u[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(i(n.parts[r]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{for(var a=[],r=0;r<n.parts.length;r++)a.push(i(n.parts[r]));u[n.id]={id:n.id,refs:1,parts:a}}}}function r(){var t=document.createElement("style");return t.type="text/css",d.appendChild(t),t}function i(t){var e,n,o=document.querySelector("style["+g+'~="'+t.id+'"]');if(o){if(v)return h;o.parentNode.removeChild(o)}if(b){var i=p++;o=f||(f=r()),e=a.bind(null,o,i,!1),n=a.bind(null,o,i,!0)}else o=r(),e=s.bind(null,o),n=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else n()}}function a(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function s(t,e){var n=e.css,o=e.media,r=e.sourceMap;if(o&&t.setAttribute("media",o),m.ssrId&&t.setAttribute(g,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(95),u={},d=l&&(document.head||document.getElementsByTagName("head")[0]),f=null,p=0,v=!1,h=function(){},m=null,g="data-vue-ssr-id",b="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n,r){v=n,m=r||{};var i=c(t,e);return o(i),function(e){for(var n=[],r=0;r<i.length;r++){var a=i[r],s=u[a.id];s.refs--,n.push(s)}e?(i=c(t,e),o(i)):i=[];for(var r=0;r<n.length;r++){var s=n[r];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete u[s.id]}}}};var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){"use strict";e.__esModule=!0;var o=n(49),r=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,r.default)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports={}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var o=n(31)("keys"),r=n(35);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e,n){var o=n(0)(n(44),n(88),null,null,null);o.options.__file="/Users/trond/dev/js/villain-editor/src/components/blocks/ColumnsBlock.vue",o.esModule&&Object.keys(o.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] ColumnsBlock.vue: functional components are not supported with templates, they should use render functions."),t.exports=o.exports},function(t,e,n){function o(t){r||n(94)}var r=!1,i=n(0)(n(45),n(87),o,null,null);i.options.__file="/Users/trond/dev/js/villain-editor/src/components/blocks/HeaderBlock.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] HeaderBlock.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},function(t,e,n){function o(t){r||n(91)}var r=!1,i=n(0)(n(46),n(84),o,null,null);i.options.__file="/Users/trond/dev/js/villain-editor/src/components/blocks/MarkdownBlock.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] MarkdownBlock.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},function(t,e,n){function o(t){r||n(93)}var r=!1,i=n(0)(n(47),n(86),o,null,null);i.options.__file="/Users/trond/dev/js/villain-editor/src/components/blocks/TextBlock.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] TextBlock.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var o=n(53);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var o=n(15),r=n(2).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var o=n(2),r=n(4),i=n(25),a=n(7),s=n(6),l=function(t,e,n){var c,u,d,f=t&l.F,p=t&l.G,v=t&l.S,h=t&l.P,m=t&l.B,g=t&l.W,b=p?r:r[e]||(r[e]={}),y=b.prototype,k=p?o:v?o[e]:(o[e]||{}).prototype;p&&(n=e);for(c in n)(u=!f&&k&&void 0!==k[c])&&s(b,c)||(d=u?k[c]:n[c],b[c]=p&&"function"!=typeof k[c]?n[c]:m&&u?i(d,o):g&&k[c]==d?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(d):h&&"function"==typeof d?i(Function.call,d):d,h&&((b.virtual||(b.virtual={}))[c]=d,t&l.R&&y&&!y[c]&&a(y,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var o=n(8).f,r=n(6),i=n(1)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,i)&&o(t,i,{configurable:!0,value:e})}},function(t,e,n){var o=n(2),r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e,n){var o=n(59),r=n(14);t.exports=function(t){return o(r(t))}},function(t,e,n){var o=n(19),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},function(t,e,n){var o=n(14);t.exports=function(t){return Object(o(t))}},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e,n){var o=n(0)(n(43),n(83),null,null,null);o.options.__file="/Users/trond/dev/js/villain-editor/src/components/blocks/BlockContainer.vue",o.esModule&&Object.keys(o.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] BlockContainer.vue: functional components are not supported with templates, they should use render functions."),t.exports=o.exports},function(t,e){},function(t,e,n){function o(t){r||n(92)}var r=!1,i=n(0)(n(41),n(85),o,"data-v-23b4131c",null);i.options.__file="/Users/trond/dev/js/villain-editor/src/components/VillainEditor.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] VillainEditor.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},function(t,e,n){var o,r,i;/*!
	autosize 4.0.1
	license: MIT
	http://www.jacklmoore.com/autosize
*/
!function(n,a){r=[t,e],o=a,void 0!==(i="function"==typeof o?o.apply(e,r):o)&&(t.exports=i)}(0,function(t,e){"use strict";function n(t){function e(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function n(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}function o(){if(0!==t.scrollHeight){var e=n(t),o=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+s+"px",l=t.clientWidth,e.forEach(function(t){t.node.scrollTop=t.scrollTop}),o&&(document.documentElement.scrollTop=o)}}function r(){o();var n=Math.round(parseFloat(t.style.height)),r=window.getComputedStyle(t,null),i="content-box"===r.boxSizing?Math.round(parseFloat(r.height)):t.offsetHeight;if(i!==n?"hidden"===r.overflowY&&(e("scroll"),o(),i="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==r.overflowY&&(e("hidden"),o(),i="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),c!==i){c=i;var s=a("autosize:resized");try{t.dispatchEvent(s)}catch(t){}}}if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!i.has(t)){var s=null,l=null,c=null,u=function(){t.clientWidth!==l&&r()},d=function(e){window.removeEventListener("resize",u,!1),t.removeEventListener("input",r,!1),t.removeEventListener("keyup",r,!1),t.removeEventListener("autosize:destroy",d,!1),t.removeEventListener("autosize:update",r,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),i.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",d,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",r,!1),window.addEventListener("resize",u,!1),t.addEventListener("input",r,!1),t.addEventListener("autosize:update",r,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",i.set(t,{destroy:d,update:r}),function(){var e=window.getComputedStyle(t,null);"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),s="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(s)&&(s=0),r()}()}}function o(t){var e=i.get(t);e&&e.destroy()}function r(t){var e=i.get(t);e&&e.update()}var i="function"==typeof Map?new Map:function(){var t=[],e=[];return{has:function(e){return t.indexOf(e)>-1},get:function(n){return e[t.indexOf(n)]},set:function(n,o){-1===t.indexOf(n)&&(t.push(n),e.push(o))},delete:function(n){var o=t.indexOf(n);o>-1&&(t.splice(o,1),e.splice(o,1))}}}(),a=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){a=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(s=function(t){return t},s.destroy=function(t){return t},s.update=function(t){return t}):(s=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return n(t)}),t},s.destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],o),t},s.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],r),t}),e.default=s,t.exports=e.default})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(38),r=n.n(o),i=n(37);n.n(i);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(50),r=n.n(o),i=n(13),a=n.n(i),s=n(11),l=n.n(s),c=n(36),u=n.n(c),d=n(20),f=n.n(d),p=n(21),v=n.n(p),h=n(22),m=n.n(h),g=n(23),b=n.n(g);e.default={name:"villain-editor",components:{BlockContainer:u.a,VillainPlus:l.a,ColumnsBlock:f.a,HeaderBlock:v.a,MarkdownBlock:m.a,TextBlock:b.a},props:{json:{type:String,default:"[]"}},data:function(){return{blocks:[],msg:"Welcome to Your Vue.js App"}},computed:{output:function(){var t=this,e=[].concat(a()(this.blocks));return r()(e.map(function(e){return t.stripUID(e)}),null,2)}},created:function(){this.blocks=JSON.parse(this.json)},methods:{stripUID:function(t){return t.hasOwnProperty("uid")&&delete t.uid,t},addBlock:function(t){var e=t.block,n=t.after,o=t.parent;console.log("-- adding");var r={type:e.component.toLowerCase(),data:e.dataTemplate};if(console.log("parent: ",o),console.log("after: ",n),!n&&!o)return void(this.blocks=[].concat(a()(this.blocks),[r]));if(o){console.log("adding to parent",o);var i=this.blocks.find(function(t){if("columns"===t.type){console.log("columns",t);for(var e=0;e<t.data.length;e++)if(t.data[e].uid===o)return t}}),s=null;if(i){for(var l=0;l<i.data.length;l++)i.data[l].uid===o&&(s=i.data[l]);s.data=[].concat(a()(s.data),[r])}}else if(n){var c=this.blocks.find(function(t){return t.uid===n}),u=this.blocks.indexOf(c);if(u===this.blocks.length)return void(this.blocks=[].concat(a()(this.blocks),[r]));this.blocks=[].concat(a()(this.blocks.slice(0,u)),[c,r],a()(this.blocks.slice(u+1)))}},deleteBlock:function(t){var e=t.uid,n=this.blocks.find(function(t){return t.uid===e});if(n){var o=this.blocks.indexOf(n);this.blocks=[].concat(a()(this.blocks.slice(0,o)),a()(this.blocks.slice(o+1)))}},orderBlocks:function(t){this.blocks=[].concat(a()(t))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),r=n.n(o);e.default={components:{VillainPlus:r.a},data:function(){return{showConfig:!1}},props:{block:{type:Object,default:function(){}},parent:{type:String,default:null},config:{type:Boolean,default:!1}},created:function(){this.config&&(this.showConfig=!0)},methods:{configBlock:function(){this.showConfig=!0},deleteBlock:function(){this.$emit("delete",this.block)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),r=n.n(o),i=n(96),a=n.n(i),s=n(11),l=n.n(s),c=n(20),u=n.n(c),d=n(21),f=n.n(d),p=n(22),v=n.n(p),h=n(23),m=n.n(h);e.default={name:"block-container",components:{draggable:a.a,VillainPlus:l.a,ColumnsBlock:u.a,HeaderBlock:f.a,MarkdownBlock:v.a,TextBlock:m.a},props:{blocks:{type:Array,default:function(){return[]}}},computed:{cBlocks:{get:function(){return[].concat(r()(this.blocks))},set:function(t){this.$emit("order",t)}}},data:function(){return{uid:null}},created:function(){console.log("<BlockContainer /> created"),this.uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()},methods:{updateOrder:function(){console.log("UPDATED, EMIT?")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),r=n.n(o),i=n(10),a=n.n(i),s=n(36),l=n.n(s),c=n(11),u=n.n(c),d=n(20),f=n.n(d),p=n(21),v=n.n(p),h=n(22),m=n.n(h),g=n(23),b=n.n(g);e.default={name:"columns-block",components:{Block:a.a,BlockContainer:l.a,VillainPlus:u.a,ColumnsBlock:f.a,HeaderBlock:v.a,MarkdownBlock:m.a,TextBlock:b.a},data:function(){return{columnCount:2,uid:null}},props:{block:{type:Object,default:function(){}},parent:{type:String,default:null}},created:function(){console.log("<ColumnsBlock /> created"),this.block.uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),console.log(this.block)},methods:{createUID:function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()},addBlockInColumn:function(t){var e=t.block,n=t.after,o={type:e.component.toLowerCase(),data:e.dataTemplate};n||(this.blocks=[].concat(r()(this.blocks),[o]))},deleteBlockFromColumn:function(t){var e=t.uid,n=this.blocks.find(function(t){return t.uid===e});if(n){var o=this.blocks.indexOf(n);this.blocks=[].concat(r()(this.blocks.slice(0,o)),r()(this.blocks.slice(o+1)))}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),r=n.n(o);e.default={name:"header-block",components:{Block:r.a},data:function(){return{customClass:"",uid:null}},props:{block:{type:Object,default:function(){}},parent:{type:String,default:null}},computed:{fontSize:function(){switch(this.block.data.level){case 1:return 5;case 2:return 4;case 3:return 3;case 4:return 2;case 5:return 1;case 6:return.75}}},created:function(){console.log("<HeaderBlock /> created"),console.log(this.block),this.block.uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(39),r=n.n(o),i=n(10),a=n.n(i);e.default={name:"markdown-block",components:{Block:a.a},props:{block:{type:Object,default:function(){}},parent:{type:String,default:null}},data:function(){return{}},created:function(){console.log("<MarkdownBlock /> created"),this.block.uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()},mounted:function(){r()(this.$refs.txt)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),r=n.n(o);e.default={name:"text-block",components:{Block:r.a},data:function(){return{customClass:"",uid:null}},props:{block:{type:Object,default:function(){}},parent:{type:String,default:null}},created:function(){console.log("<TextBlock /> created"),this.block.uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()}}},function(t,e,n){"use strict";function o(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()}Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"villain-plus",props:{parent:{type:String,default:null},after:{type:String,default:null},availableBlocks:{type:Array,default:function(){return[{name:"Tekst",icon:"fa-paragraph",component:"Text",dataTemplate:{text:"Tekst her",type:"paragraph"}},{name:"Overskrift",icon:"fa-heading",component:"Header",dataTemplate:{text:"Overskrift",level:1,class:""}},{name:"Kolonner",icon:"fa-columns",component:"Columns",dataTemplate:[{uid:o(),class:"col-sm-6",data:[{uid:o(),type:"text",data:{text:"Kolonnetekst",type:"paragraph"}}]},{uid:o(),class:"col-sm-6",data:[{uid:o(),type:"text",data:{text:"Kolonnetekst",type:"paragraph"}}]}]},{name:"Markdown",icon:"fa-code",component:"Markdown",dataTemplate:{text:"## Markdown code"}}]}}},data:function(){return{active:!1}},created:function(){console.log("<VillainPlus /> created")},methods:{addBlock:function(t){this.active=!1,console.log("adding with parent",this.parent),console.log("adding with after",this.after),this.$emit("add",{block:t,after:this.after,parent:this.parent})}}}},function(t,e,n){t.exports={default:n(51),__esModule:!0}},function(t,e,n){t.exports={default:n(52),__esModule:!0}},function(t,e,n){n(77),n(76),t.exports=n(4).Array.from},function(t,e,n){var o=n(4),r=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var o=n(32),r=n(33),i=n(73);t.exports=function(t){return function(e,n,a){var s,l=o(e),c=r(l.length),u=i(a,c);if(t&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var o=n(24),r=n(1)("toStringTag"),i="Arguments"==o(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),r))?n:i?o(e):"Object"==(s=o(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){"use strict";var o=n(8),r=n(17);t.exports=function(t,e,n){e in t?o.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var o=n(2).document;t.exports=o&&o.documentElement},function(t,e,n){t.exports=!n(5)&&!n(29)(function(){return 7!=Object.defineProperty(n(26)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(24);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,n){var o=n(16),r=n(1)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||i[r]===t)}},function(t,e,n){var o=n(3);t.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(t,e,n){"use strict";var o=n(66),r=n(17),i=n(30),a={};n(7)(a,n(1)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(a,{next:r(1,n)}),i(t,e+" Iterator")}},function(t,e,n){"use strict";var o=n(65),r=n(28),i=n(71),a=n(7),s=n(16),l=n(62),c=n(30),u=n(68),d=n(1)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,v,h,m,g){l(n,e,v);var b,y,k,_=function(t){if(!f&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",C="values"==h,w=!1,S=t.prototype,D=S[d]||S["@@iterator"]||h&&S[h],E=D||_(h),O=h?C?_("entries"):E:void 0,T="Array"==e?S.entries||D:D;if(T&&(k=u(T.call(new t)))!==Object.prototype&&k.next&&(c(k,x,!0),o||"function"==typeof k[d]||a(k,d,p)),C&&D&&"values"!==D.name&&(w=!0,E=function(){return D.call(this)}),o&&!g||!f&&!w&&S[d]||a(S,d,E),s[e]=E,s[x]=p,h)if(b={values:C?E:_("values"),keys:m?E:_("keys"),entries:O},g)for(y in b)y in S||i(S,y,b[y]);else r(r.P+r.F*(f||w),e,b);return b}},function(t,e,n){var o=n(1)("iterator"),r=!1;try{var i=[7][o]();i.return=function(){r=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var i=[7],a=i[o]();a.next=function(){return{done:n=!0}},i[o]=function(){return a},t(i)}catch(t){}return n}},function(t,e){t.exports=!0},function(t,e,n){var o=n(3),r=n(67),i=n(27),a=n(18)("IE_PROTO"),s=function(){},l=function(){var t,e=n(26)("iframe"),o=i.length;for(e.style.display="none",n(57).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;o--;)delete l.prototype[i[o]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=o(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:r(n,e)}},function(t,e,n){var o=n(8),r=n(3),i=n(70);t.exports=n(5)?Object.defineProperties:function(t,e){r(t);for(var n,a=i(e),s=a.length,l=0;s>l;)o.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var o=n(6),r=n(34),i=n(18)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),o(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var o=n(6),r=n(32),i=n(54)(!1),a=n(18)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),l=0,c=[];for(n in s)n!=a&&o(s,n)&&c.push(n);for(;e.length>l;)o(s,n=e[l++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var o=n(69),r=n(27);t.exports=Object.keys||function(t){return o(t,r)}},function(t,e,n){t.exports=n(7)},function(t,e,n){var o=n(19),r=n(14);t.exports=function(t){return function(e,n){var i,a,s=String(r(e)),l=o(n),c=s.length;return l<0||l>=c?t?"":void 0:(i=s.charCodeAt(l),i<55296||i>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):i:t?s.slice(l,l+2):a-56320+(i-55296<<10)+65536)}}},function(t,e,n){var o=n(19),r=Math.max,i=Math.min;t.exports=function(t,e){return t=o(t),t<0?r(t+e,0):i(t,e)}},function(t,e,n){var o=n(15);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var o=n(55),r=n(1)("iterator"),i=n(16);t.exports=n(4).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||i[o(t)]}},function(t,e,n){"use strict";var o=n(25),r=n(28),i=n(34),a=n(61),s=n(60),l=n(33),c=n(56),u=n(75);r(r.S+r.F*!n(64)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,d,f=i(t),p="function"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,m=void 0!==h,g=0,b=u(f);if(m&&(h=o(h,v>2?arguments[2]:void 0,2)),void 0==b||p==Array&&s(b))for(e=l(f.length),n=new p(e);e>g;g++)c(n,g,m?h(f[g],g):f[g]);else for(d=b.call(f),n=new p;!(r=d.next()).done;g++)c(n,g,m?a(d,h,[r.value,g],!0):r.value);return n.length=g,n}})},function(t,e,n){"use strict";var o=n(72)(!0);n(63)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=o(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){e=t.exports=n(9)(!1),e.push([t.i,"",""])},function(t,e,n){e=t.exports=n(9)(!1),e.push([t.i,"\n.villain-editor[data-v-23b4131c] {\n  background-color: #efe;\n}\n",""])},function(t,e,n){e=t.exports=n(9)(!1),e.push([t.i,"",""])},function(t,e,n){e=t.exports=n(9)(!1),e.push([t.i,"",""])},function(t,e,n){var o,r;/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
!function(i){"use strict";o=i,void 0!==(r="function"==typeof o?o.call(e,n,e,t):o)&&(t.exports=r)}(function(){"use strict";function t(e,n){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=n=y({},n),e[W]=this;var o={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==t.supportPointer};for(var r in o)!(r in n)&&(n[r]=o[r]);ut(n);for(var a in this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!n.forceFallback&&nt,i(e,"mousedown",this._onTapStart),i(e,"touchstart",this._onTapStart),n.supportPointer&&i(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(i(e,"dragover",this),i(e,"dragenter",this)),lt.push(this._onDragOver),n.store&&this.sort(n.store.get(this))}function e(t,e){"clone"!==t.lastPullMode&&(e=!0),E&&E.state!==e&&(l(E,"display",e?"none":""),e||E.state&&(t.options.group.revertClone?(O.insertBefore(E,T),t._animate(w,E)):O.insertBefore(E,w)),E.state=e)}function n(t,e,n){if(t){n=n||G;do{if(">*"===e&&t.parentNode===n||g(t,e))return t}while(t=o(t))}return null}function o(t){var e=t.host;return e&&e.nodeType?e:t.parentNode}function r(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}function i(t,e,n){t.addEventListener(e,n,tt)}function a(t,e,n){t.removeEventListener(e,n,tt)}function s(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(z," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(z," ")}}function l(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return G.defaultView&&G.defaultView.getComputedStyle?n=G.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||(e="-webkit-"+e),o[e]=n+("string"==typeof n?"":"px")}}function c(t,e,n){if(t){var o=t.getElementsByTagName(e),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function u(t,e,n,o,r,i,a,s){t=t||e[W];var l=G.createEvent("Event"),c=t.options,u="on"+n.charAt(0).toUpperCase()+n.substr(1);l.initEvent(n,!0,!0),l.to=r||e,l.from=i||e,l.item=o||e,l.clone=E,l.oldIndex=a,l.newIndex=s,e.dispatchEvent(l),c[u]&&c[u].call(t,l)}function d(t,e,n,o,r,i,a,s){var l,c,u=t[W],d=u.options.onMove;return l=G.createEvent("Event"),l.initEvent("move",!0,!0),l.to=e,l.from=t,l.dragged=n,l.draggedRect=o,l.related=r||e,l.relatedRect=i||e.getBoundingClientRect(),l.willInsertAfter=s,t.dispatchEvent(l),d&&(c=d.call(u,l,a)),c}function f(t){t.draggable=!1}function p(){rt=!1}function v(t,e){var n=t.lastElementChild,o=n.getBoundingClientRect();return e.clientY-(o.top+o.height)>5||e.clientX-(o.left+o.width)>5}function h(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function m(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!g(t,e)||n++;return n}function g(t,e){if(t){e=e.split(".");var n=e.shift().toUpperCase(),o=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==n&&t.nodeName.toUpperCase()!=n||e.length&&((" "+t.className+" ").match(o)||[]).length!=e.length)}return!1}function b(t,e){var n,o;return function(){void 0===n&&(n=arguments,o=this,K(function(){1===n.length?t.call(o,n[0]):t.apply(o,n),n=void 0},e))}}function y(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function k(t){return Z&&Z.dom?Z.dom(t).cloneNode(!0):Q?Q(t).clone(!0)[0]:t.cloneNode(!0)}function _(t){for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&st.push(o)}}function x(t){return K(t,0)}function C(t){return clearTimeout(t)}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var w,S,D,E,O,T,M,B,P,N,j,$,I,A,U,F,L,R,Y,V,X={},z=/\s+/g,H=/left|right|inline/,W="Sortable"+(new Date).getTime(),q=window,G=q.document,J=q.parseInt,K=q.setTimeout,Q=q.jQuery||q.Zepto,Z=q.Polymer,tt=!1,et=!1,nt="draggable"in G.createElement("div"),ot=function(t){return!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&(t=G.createElement("x"),t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents)}(),rt=!1,it=Math.abs,at=Math.min,st=[],lt=[],ct=b(function(t,e,n){if(n&&e.scroll){var o,r,i,a,s,l,c=n[W],u=e.scrollSensitivity,d=e.scrollSpeed,f=t.clientX,p=t.clientY,v=window.innerWidth,h=window.innerHeight;if(P!==n&&(B=e.scroll,P=n,N=e.scrollFn,!0===B)){B=n;do{if(B.offsetWidth<B.scrollWidth||B.offsetHeight<B.scrollHeight)break}while(B=B.parentNode)}B&&(o=B,r=B.getBoundingClientRect(),i=(it(r.right-f)<=u)-(it(r.left-f)<=u),a=(it(r.bottom-p)<=u)-(it(r.top-p)<=u)),i||a||(i=(v-f<=u)-(f<=u),a=(h-p<=u)-(p<=u),(i||a)&&(o=q)),X.vx===i&&X.vy===a&&X.el===o||(X.el=o,X.vx=i,X.vy=a,clearInterval(X.pid),o&&(X.pid=setInterval(function(){if(l=a?a*d:0,s=i?i*d:0,"function"==typeof N)return N.call(c,s,l,t);o===q?q.scrollTo(q.pageXOffset+s,q.pageYOffset+l):(o.scrollTop+=l,o.scrollLeft+=s)},24)))}},30),ut=function(t){function e(t,e){return void 0!==t&&!0!==t||(t=n.name),"function"==typeof t?t:function(n,o){var r=o.options.group.name;return e?t:t&&(t.join?t.indexOf(r)>-1:r==t)}}var n={},o=t.group;o&&"object"==typeof o||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){et=!1,tt={capture:!1,passive:et}}}))}catch(t){}return t.prototype={constructor:t,_onTapStart:function(t){var e,o=this,r=this.el,i=this.options,a=i.preventOnFilter,s=t.type,l=t.touches&&t.touches[0],c=(l||t).target,d=t.target.shadowRoot&&t.path&&t.path[0]||c,f=i.filter;if(_(r),!w&&!(/mousedown|pointerdown/.test(s)&&0!==t.button||i.disabled)&&!d.isContentEditable&&(c=n(c,i.draggable,r))&&M!==c){if(e=m(c,i.draggable),"function"==typeof f){if(f.call(this,t,c,this))return u(o,d,"filter",c,r,r,e),void(a&&t.preventDefault())}else if(f&&(f=f.split(",").some(function(t){if(t=n(d,t.trim(),r))return u(o,t,"filter",c,r,r,e),!0})))return void(a&&t.preventDefault());i.handle&&!n(d,i.handle,r)||this._prepareDragStart(t,l,c,e)}},_prepareDragStart:function(t,e,n,o){var r,a=this,l=a.el,d=a.options,p=l.ownerDocument;n&&!w&&n.parentNode===l&&(R=t,O=l,w=n,S=w.parentNode,T=w.nextSibling,M=n,F=d.group,A=o,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,w.style["will-change"]="all",r=function(){a._disableDelayedDrag(),w.draggable=a.nativeDraggable,s(w,d.chosenClass,!0),a._triggerDragStart(t,e),u(a,O,"choose",w,O,O,A)},d.ignore.split(",").forEach(function(t){c(w,t.trim(),f)}),i(p,"mouseup",a._onDrop),i(p,"touchend",a._onDrop),i(p,"touchcancel",a._onDrop),i(p,"selectstart",a),d.supportPointer&&i(p,"pointercancel",a._onDrop),d.delay?(i(p,"mouseup",a._disableDelayedDrag),i(p,"touchend",a._disableDelayedDrag),i(p,"touchcancel",a._disableDelayedDrag),i(p,"mousemove",a._disableDelayedDrag),i(p,"touchmove",a._disableDelayedDrag),d.supportPointer&&i(p,"pointermove",a._disableDelayedDrag),a._dragStartTimer=K(r,d.delay)):r())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),a(t,"mouseup",this._disableDelayedDrag),a(t,"touchend",this._disableDelayedDrag),a(t,"touchcancel",this._disableDelayedDrag),a(t,"mousemove",this._disableDelayedDrag),a(t,"touchmove",this._disableDelayedDrag),a(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,e){e=e||("touch"==t.pointerType?t:null),e?(R={target:w,clientX:e.clientX,clientY:e.clientY},this._onDragStart(R,"touch")):this.nativeDraggable?(i(w,"dragend",this),i(O,"dragstart",this._onDragStart)):this._onDragStart(R,!0);try{G.selection?x(function(){G.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){if(O&&w){var e=this.options;s(w,e.ghostClass,!0),s(w,e.dragClass,!1),t.active=this,u(this,O,"start",w,O,O,A)}else this._nulling()},_emulateDragOver:function(){if(Y){if(this._lastX===Y.clientX&&this._lastY===Y.clientY)return;this._lastX=Y.clientX,this._lastY=Y.clientY,ot||l(D,"display","none");var t=G.elementFromPoint(Y.clientX,Y.clientY),e=t,n=lt.length;if(t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Y.clientX,Y.clientY),e=t),e)do{if(e[W]){for(;n--;)lt[n]({clientX:Y.clientX,clientY:Y.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);ot||l(D,"display","")}},_onTouchMove:function(e){if(R){var n=this.options,o=n.fallbackTolerance,r=n.fallbackOffset,i=e.touches?e.touches[0]:e,a=i.clientX-R.clientX+r.x,s=i.clientY-R.clientY+r.y,c=e.touches?"translate3d("+a+"px,"+s+"px,0)":"translate("+a+"px,"+s+"px)";if(!t.active){if(o&&at(it(i.clientX-this._lastX),it(i.clientY-this._lastY))<o)return;this._dragStarted()}this._appendGhost(),V=!0,Y=i,l(D,"webkitTransform",c),l(D,"mozTransform",c),l(D,"msTransform",c),l(D,"transform",c),e.preventDefault()}},_appendGhost:function(){if(!D){var t,e=w.getBoundingClientRect(),n=l(w),o=this.options;D=w.cloneNode(!0),s(D,o.ghostClass,!1),s(D,o.fallbackClass,!0),s(D,o.dragClass,!0),l(D,"top",e.top-J(n.marginTop,10)),l(D,"left",e.left-J(n.marginLeft,10)),l(D,"width",e.width),l(D,"height",e.height),l(D,"opacity","0.8"),l(D,"position","fixed"),l(D,"zIndex","100000"),l(D,"pointerEvents","none"),o.fallbackOnBody&&G.body.appendChild(D)||O.appendChild(D),t=D.getBoundingClientRect(),l(D,"width",2*e.width-t.width),l(D,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,r=n.options;n._offUpEvents(),F.checkPull(n,n,w,t)&&(E=k(w),E.draggable=!1,E.style["will-change"]="",l(E,"display","none"),s(E,n.options.chosenClass,!1),n._cloneId=x(function(){O.insertBefore(E,w),u(n,O,"clone",w)})),s(w,r.dragClass,!0),e?("touch"===e?(i(G,"touchmove",n._onTouchMove),i(G,"touchend",n._onDrop),i(G,"touchcancel",n._onDrop),r.supportPointer&&(i(G,"pointermove",n._onTouchMove),i(G,"pointerup",n._onDrop))):(i(G,"mousemove",n._onTouchMove),i(G,"mouseup",n._onDrop)),n._loopId=setInterval(n._emulateDragOver,50)):(o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,w)),i(G,"drop",n),n._dragStartId=x(n._dragStarted))},_onDragOver:function(o){var r,i,a,s,c=this.el,u=this.options,f=u.group,h=t.active,m=F===f,g=!1,b=u.sort;if(void 0!==o.preventDefault&&(o.preventDefault(),!u.dragoverBubble&&o.stopPropagation()),!w.animated&&(V=!0,h&&!u.disabled&&(m?b||(s=!O.contains(w)):L===this||(h.lastPullMode=F.checkPull(this,h,w,o))&&f.checkPut(this,h,w,o))&&(void 0===o.rootEl||o.rootEl===this.el))){if(ct(o,u,this.el),rt)return;if(r=n(o.target,u.draggable,c),i=w.getBoundingClientRect(),L!==this&&(L=this,g=!0),s)return e(h,!0),S=O,void(E||T?O.insertBefore(w,E||T):b||O.appendChild(w));if(0===c.children.length||c.children[0]===D||c===o.target&&v(c,o)){if(0!==c.children.length&&c.children[0]!==D&&c===o.target&&(r=c.lastElementChild),r){if(r.animated)return;a=r.getBoundingClientRect()}e(h,m),!1!==d(O,c,w,i,r,a,o)&&(w.contains(c)||(c.appendChild(w),S=c),this._animate(i,w),r&&this._animate(a,r))}else if(r&&!r.animated&&r!==w&&void 0!==r.parentNode[W]){j!==r&&(j=r,$=l(r),I=l(r.parentNode)),a=r.getBoundingClientRect();var y=a.right-a.left,k=a.bottom-a.top,_=H.test($.cssFloat+$.display)||"flex"==I.display&&0===I["flex-direction"].indexOf("row"),x=r.offsetWidth>w.offsetWidth,C=r.offsetHeight>w.offsetHeight,M=(_?(o.clientX-a.left)/y:(o.clientY-a.top)/k)>.5,B=r.nextElementSibling,P=!1;if(_){var N=w.offsetTop,A=r.offsetTop;P=N===A?r.previousElementSibling===w&&!x||M&&x:r.previousElementSibling===w||w.previousElementSibling===r?(o.clientY-a.top)/k>.5:A>N}else g||(P=B!==w&&!C||M&&C);var U=d(O,c,w,i,r,a,o,P);!1!==U&&(1!==U&&-1!==U||(P=1===U),rt=!0,K(p,30),e(h,m),w.contains(c)||(P&&!B?c.appendChild(w):r.parentNode.insertBefore(w,P?B:r)),S=w.parentNode,this._animate(i,w),this._animate(a,r))}}},_animate:function(t,e){var n=this.options.animation;if(n){var o=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),l(e,"transition","none"),l(e,"transform","translate3d("+(t.left-o.left)+"px,"+(t.top-o.top)+"px,0)"),e.offsetWidth,l(e,"transition","all "+n+"ms"),l(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=K(function(){l(e,"transition",""),l(e,"transform",""),e.animated=!1},n)}},_offUpEvents:function(){var t=this.el.ownerDocument;a(G,"touchmove",this._onTouchMove),a(G,"pointermove",this._onTouchMove),a(t,"mouseup",this._onDrop),a(t,"touchend",this._onDrop),a(t,"pointerup",this._onDrop),a(t,"touchcancel",this._onDrop),a(t,"pointercancel",this._onDrop),a(t,"selectstart",this)},_onDrop:function(e){var n=this.el,o=this.options;clearInterval(this._loopId),clearInterval(X.pid),clearTimeout(this._dragStartTimer),C(this._cloneId),C(this._dragStartId),a(G,"mouseover",this),a(G,"mousemove",this._onTouchMove),this.nativeDraggable&&(a(G,"drop",this),a(n,"dragstart",this._onDragStart)),this._offUpEvents(),e&&(V&&(e.preventDefault(),!o.dropBubble&&e.stopPropagation()),D&&D.parentNode&&D.parentNode.removeChild(D),O!==S&&"clone"===t.active.lastPullMode||E&&E.parentNode&&E.parentNode.removeChild(E),w&&(this.nativeDraggable&&a(w,"dragend",this),f(w),w.style["will-change"]="",s(w,this.options.ghostClass,!1),s(w,this.options.chosenClass,!1),u(this,O,"unchoose",w,S,O,A),O!==S?(U=m(w,o.draggable))>=0&&(u(null,S,"add",w,S,O,A,U),u(this,O,"remove",w,S,O,A,U),u(null,S,"sort",w,S,O,A,U),u(this,O,"sort",w,S,O,A,U)):w.nextSibling!==T&&(U=m(w,o.draggable))>=0&&(u(this,O,"update",w,S,O,A,U),u(this,O,"sort",w,S,O,A,U)),t.active&&(null!=U&&-1!==U||(U=A),u(this,O,"end",w,S,O,A,U),this.save()))),this._nulling()},_nulling:function(){O=w=S=D=T=E=M=B=P=R=Y=V=U=j=$=L=F=t.active=null,st.forEach(function(t){t.checked=!0}),st.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":w&&(this._onDragOver(t),r(t));break;case"mouseover":this._onDrop(t);break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],o=this.el.children,r=0,i=o.length,a=this.options;r<i;r++)t=o[r],n(t,a.draggable,this.el)&&e.push(t.getAttribute(a.dataIdAttr)||h(t));return e},sort:function(t){var e={},o=this.el;this.toArray().forEach(function(t,r){var i=o.children[r];n(i,this.options.draggable,o)&&(e[t]=i)},this),t.forEach(function(t){e[t]&&(o.removeChild(e[t]),o.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return n(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&ut(n)},destroy:function(){var t=this.el;t[W]=null,a(t,"mousedown",this._onTapStart),a(t,"touchstart",this._onTapStart),a(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(a(t,"dragover",this),a(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),lt.splice(lt.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},i(G,"touchmove",function(e){t.active&&e.preventDefault()}),t.utils={on:i,off:a,css:l,find:c,is:function(t,e){return!!n(t,e,t)},extend:y,throttle:b,closest:n,toggleClass:s,clone:k,index:m,nextTick:x,cancelNextTick:C},t.create=function(e,n){return new t(e,n)},t.version="1.7.0",t})},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.blocks.length?n("div",[n("draggable",{attrs:{options:{handle:".villain-move"}},on:{update:t.updateOrder},model:{value:t.cBlocks,callback:function(e){t.cBlocks=e},expression:"cBlocks"}},t._l(t.cBlocks,function(e){return n("div",{staticClass:"villain-block-container"},[n(e.type+"Block",{tag:"component",attrs:{block:e},on:{add:function(e){t.$emit("add",e)},delete:function(e){t.$emit("delete",e)}}})],1)}))],1):n("div",[n("VillainPlus",{on:{add:function(e){t.$emit("add",e)}}})],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Block",{attrs:{block:t.block,parent:t.parent},on:{add:function(e){t.$emit("add",e)},delete:function(e){t.$emit("delete",e)}}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.block.data.text,expression:"block.data.text"}],ref:"txt",staticClass:"villain-markdown-input",domProps:{value:t.block.data.text},on:{input:function(e){e.target.composing||t.$set(t.block.data,"text",e.target.value)}}}),t._v(" "),n("template",{slot:"config"},[t._v("\n    This is the config contents!\n  ")])],2)},staticRenderFns:[]},t.exports.render._withStripped=!0},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.blocks.length?n("div",{staticClass:"villain-editor"},[n("BlockContainer",{attrs:{blocks:t.blocks},on:{add:function(e){t.addBlock(e)},delete:t.deleteBlock,order:t.orderBlocks}}),t._v(" "),n("code",[n("pre",[t._v(t._s(t.blocks))])])],1):n("div",{staticClass:"villain-editor"},[n("div",{staticClass:"villain-block-container"},[t._v("\n    NO BLOCKS!!!!\n    "),n("BlockContainer",{attrs:{blocks:t.blocks},on:{add:function(e){t.addBlock(e)},delete:t.deleteBlock}})],1)])},staticRenderFns:[]},t.exports.render._withStripped=!0},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Block",{attrs:{block:t.block,parent:t.parent},on:{add:function(e){t.$emit("add",e)},delete:function(e){t.$emit("delete",e)}}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.block.data.text,expression:"block.data.text"}],domProps:{value:t.block.data.text},on:{input:function(e){e.target.composing||t.$set(t.block.data,"text",e.target.value)}}}),t._v(" "),n("template",{slot:"config"},[n("div",{staticClass:"form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.block.data.type,expression:"block.data.type"}],staticClass:"form-control",attrs:{type:"radio",value:"paragraph"},domProps:{checked:t._q(t.block.data.type,"paragraph")},on:{change:function(e){t.$set(t.block.data,"type","paragraph")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("\n        Paragraf/brødtekst\n      ")])]),t._v(" "),n("div",{staticClass:"form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.block.data.type,expression:"block.data.type"}],staticClass:"form-control",attrs:{type:"radio",value:"lead"},domProps:{checked:t._q(t.block.data.type,"lead")},on:{change:function(e){t.$set(t.block.data,"type","lead")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("\n        Ingress\n      ")])]),t._v(" "),n("div",{staticClass:"form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.block.data.type,expression:"block.data.type"}],staticClass:"form-control",attrs:{type:"radio"},domProps:{value:t.customClass,checked:t._q(t.block.data.type,t.customClass)},on:{change:function(e){t.$set(t.block.data,"type",t.customClass)}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.customClass,expression:"customClass"}],staticClass:"form-control",attrs:{type:"input"},domProps:{value:t.customClass},on:{input:function(e){e.target.composing||(t.customClass=e.target.value)}}})])])])])],2)},staticRenderFns:[]},t.exports.render._withStripped=!0},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Block",{attrs:{block:t.block,parent:t.parent},on:{add:function(e){t.$emit("add",e)},delete:function(e){t.$emit("delete",e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.block.data.text,expression:"block.data.text"}],staticClass:"villain-header-input",style:"font-size: "+t.fontSize+"rem",domProps:{value:t.block.data.text},on:{input:function(e){e.target.composing||t.$set(t.block.data,"text",e.target.value)}}}),t._v(" "),n("template",{slot:"config"},[n("div",{staticClass:"form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.block.data.level,expression:"block.data.level"}],staticClass:"form-control",attrs:{type:"radio",value:"1"},domProps:{checked:t._q(t.block.data.level,"1")},on:{change:function(e){t.$set(t.block.data,"level","1")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("\n        H1\n      ")])]),t._v(" "),n("div",{staticClass:"form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.block.data.level,expression:"block.data.level"}],staticClass:"form-control",attrs:{type:"radio",value:"2"},domProps:{checked:t._q(t.block.data.level,"2")},on:{change:function(e){t.$set(t.block.data,"level","2")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("\n        H2\n      ")])]),t._v(" "),n("div",{staticClass:"form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.block.data.level,expression:"block.data.level"}],staticClass:"form-control",attrs:{type:"radio",value:"3"},domProps:{checked:t._q(t.block.data.level,"3")},on:{change:function(e){t.$set(t.block.data,"level","3")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("\n        H3\n      ")])]),t._v(" "),n("div",{staticClass:"form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.block.data.level,expression:"block.data.level"}],staticClass:"form-control",attrs:{type:"radio",value:"4"},domProps:{checked:t._q(t.block.data.level,"4")},on:{change:function(e){t.$set(t.block.data,"level","4")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("\n        H4\n      ")])]),t._v(" "),n("div",{staticClass:"form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.block.data.level,expression:"block.data.level"}],staticClass:"form-control",attrs:{type:"radio",value:"5"},domProps:{checked:t._q(t.block.data.level,"5")},on:{change:function(e){t.$set(t.block.data,"level","5")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("\n        H5\n      ")])]),t._v(" "),n("div",{staticClass:"form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.block.data.level,expression:"block.data.level"}],staticClass:"form-control",attrs:{type:"radio",value:"6"},domProps:{checked:t._q(t.block.data.level,"6")},on:{change:function(e){t.$set(t.block.data,"level","6")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("\n        H6\n      ")])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v("CSS klasser")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.block.data.class,expression:"block.data.class"}],staticClass:"form-control",attrs:{type:"input"},domProps:{value:t.block.data.class},on:{input:function(e){e.target.composing||t.$set(t.block.data,"class",e.target.value)}}})])])],2)},staticRenderFns:[]},t.exports.render._withStripped=!0},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Block",{attrs:{block:t.block,parent:t.block.uid},on:{add:function(e){t.$emit("add",e)},delete:function(e){t.$emit("delete",e)}}},[n("div",{staticClass:"row"},t._l(t.block.data,function(e){return n("div",{class:e.class},[e.data.length?n("div",t._l(e.data,function(o){return n("div",{staticClass:"villain-block-container"},[t._v("\n          COL-UID: "+t._s(e.uid)+"\n          "),n(o.type+"Block",{tag:"component",attrs:{block:o,parent:e.uid,after:o.uid},on:{add:function(e){t.$emit("add",e)},delete:function(e){t.$emit("delete",e)}}})],1)})):n("div",[t._v('\n        ELSE IN "COLUMNSBLOCK"\n        '),n("VillainPlus",{attrs:{parent:t.block.uid},on:{add:function(e){t.$emit("add",e)}}})],1)])})),t._v(" "),n("template",{slot:"config"},[n("div",{staticClass:"form-group"},[n("label",[t._v("Antall kolonner")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.columnCount,expression:"columnCount"}],staticClass:"form-control",attrs:{type:"input"},domProps:{value:t.columnCount},on:{input:function(e){e.target.composing||(t.columnCount=e.target.value)}}})])])],2)},staticRenderFns:[]},t.exports.render._withStripped=!0},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"villain-block-wrapper"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.showConfig,expression:"!showConfig"}],staticClass:"villain-block"},[t._t("default"),t._v(" "),n("div",{staticClass:"villain-block-actions"},[t._m(0),t._v(" "),n("div",{staticClass:"villain-block-action villain-config",on:{click:t.configBlock}},[n("i",{staticClass:"fa fa-fw fa-cog"})]),t._v(" "),n("div",{staticClass:"villain-block-action villain-delete",on:{click:t.deleteBlock}},[n("i",{staticClass:"fa fa-fw fa-trash-alt"})])])],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showConfig,expression:"showConfig"}],staticClass:"villain-block villain-block-config"},[t._t("config"),t._v(" "),n("div",{staticClass:"villain-block-actions"},[t._m(1),t._v(" "),n("div",{staticClass:"villain-block-action villain-config",on:{click:function(e){t.showConfig=!1}}},[n("i",{staticClass:"fa fa-fw fa-cog"})]),t._v(" "),n("div",{staticClass:"villain-block-action villain-delete",on:{click:t.deleteBlock}},[n("i",{staticClass:"fa fa-fw fa-trash-alt"})])])],2),t._v(" "),n("VillainPlus",{attrs:{after:t.block.uid,parent:t.parent},on:{add:function(e){t.$emit("add",e)}}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"villain-block-action villain-move"},[n("i",{staticClass:"fa fa-fw fa-expand-arrows-alt"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"villain-block-action villain-move"},[n("i",{staticClass:"fa fa-fw fa-expand-arrows-alt"})])}]},t.exports.render._withStripped=!0},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"villain-editor-plus"},[t.active?n("div",{staticClass:"villain-editor-plus-available-blocks"},[t._l(t.availableBlocks,function(e){return n("div",{staticClass:"villain-editor-plus-available-block",on:{click:function(n){t.addBlock(e)}}},[n("i",{staticClass:"fa fa-fw",class:e.icon}),t._v("\n        "+t._s(e.name)+"\n    ")])}),t._v(" "),n("button",{on:{click:function(e){t.active=!1}}},[t._v("\n      x\n    ")])],2):n("div",{staticClass:"villain-editor-plus-inactive"},[n("a",{on:{click:function(e){t.active=!0}}},[t._v("\n      +\n    ")])])])},staticRenderFns:[]},t.exports.render._withStripped=!0},function(t,e,n){var o=n(78);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(12)("b30f7102",o,!1,{})},function(t,e,n){var o=n(79);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(12)("71fd2e15",o,!1,{})},function(t,e,n){var o=n(80);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(12)("8ceeafe2",o,!1,{})},function(t,e,n){var o=n(81);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(12)("9538775e",o,!1,{})},function(t,e){t.exports=function(t,e){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=i[0],s=i[1],l=i[2],c=i[3],u={id:t+":"+r,css:s,media:l,sourceMap:c};o[a]?o[a].parts.push(u):n.push(o[a]={id:a,parts:[u]})}return n}},function(t,e,n){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};!function(){function e(t,e,n){return void 0==n?t:(t=null==t?{}:t,t[e]=n,t)}function i(t){function n(t){t.parentElement.removeChild(t)}function i(t,e,n){var o=0===n?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,o)}function a(t,e){return t.map(function(t){return t.elm}).indexOf(e)}function s(t,e,n){if(!t)return[];var r=t.map(function(t){return t.elm}),i=[].concat(o(e)).map(function(t){return r.indexOf(t)});return n?i.filter(function(t){return-1!==t}):i}function l(t,e){var n=this;this.$nextTick(function(){return n.$emit(t.toLowerCase(),e)})}function c(t){var e=this;return function(n){null!==e.realList&&e["onDrag"+t](n),l.call(e,t,n)}}var u=["Start","Add","Remove","Update","End"],d=["Choose","Sort","Filter","Clone"],f=["Move"].concat(u,d).map(function(t){return"on"+t}),p=null;return{name:"draggable",props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(t){return t}},element:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1,init:!1}},render:function(t){var n=this.$slots.default;if(n&&1===n.length){var r=n[0];r.componentOptions&&"transition-group"===r.componentOptions.tag&&(this.transitionMode=!0)}var i=n,a=this.$slots.footer;a&&(i=n?[].concat(o(n),o(a)):[].concat(o(a)));var s=null,l=function(t,n){s=e(s,t,n)};if(l("attrs",this.$attrs),this.componentData){var c=this.componentData,u=c.on,d=c.props;l("on",u),l("props",d)}return t(this.element,s,i)},mounted:function(){var e=this;if(this.noneFunctionalComponentMode=this.element.toLowerCase()!==this.$el.nodeName.toLowerCase(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter element value or remove transition-group. Current element value: "+this.element);var n={};u.forEach(function(t){n["on"+t]=c.call(e,t)}),d.forEach(function(t){n["on"+t]=l.bind(e,t)});var o=r({},this.options,n,{onMove:function(t,n){return e.onDragMove(t,n)}});!("draggable"in o)&&(o.draggable=">*"),this._sortable=new t(this.rootContainer,o),this.computeIndexes()},beforeDestroy:function(){this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},isCloning:function(){return!!this.options&&!!this.options.group&&"clone"===this.options.group.pull},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(t){for(var e in t)-1==f.indexOf(e)&&this._sortable.option(e,t[e])},deep:!0},realList:function(){this.computeIndexes()}},methods:{getChildrenNodes:function(){if(this.init||(this.noneFunctionalComponentMode=this.noneFunctionalComponentMode&&1==this.$children.length,this.init=!0),this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var t=this.$slots.default;return this.transitionMode?t[0].child.$slots.default:t},computeIndexes:function(){var t=this;this.$nextTick(function(){t.visibleIndexes=s(t.getChildrenNodes(),t.rootContainer.children,t.transitionMode)})},getUnderlyingVm:function(t){var e=a(this.getChildrenNodes()||[],t);return-1===e?null:{index:e,element:this.realList[e]}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&"transition-group"===e.$options._componentTag?e.$parent:e},emitChanges:function(t){var e=this;this.$nextTick(function(){e.$emit("change",t)})},alterList:function(t){if(this.list)t(this.list);else{var e=[].concat(o(this.value));t(e),this.$emit("input",e)}},spliceList:function(){var t=arguments,e=function(e){return e.splice.apply(e,t)};this.alterList(e)},updatePosition:function(t,e){var n=function(n){return n.splice(e,0,n.splice(t,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(t){var e=t.to,n=t.related,o=this.getUnderlyingPotencialDraggableComponent(e);if(!o)return{component:o};var i=o.realList,a={list:i,component:o};if(e!==n&&i&&o.getUnderlyingVm){var s=o.getUnderlyingVm(n);if(s)return r(s,a)}return a},getVmIndex:function(t){var e=this.visibleIndexes,n=e.length;return t>n-1?n:e[t]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(t){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[t].data=null;var e=this.getComponent();e.children=[],e.kept=void 0}},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),p=t.item},onDragAdd:function(t){var e=t.item._underlying_vm_;if(void 0!==e){n(t.item);var o=this.getVmIndex(t.newIndex);this.spliceList(o,0,e),this.computeIndexes();var r={element:e,newIndex:o};this.emitChanges({added:r})}},onDragRemove:function(t){if(i(this.rootContainer,t.item,t.oldIndex),this.isCloning)return void n(t.clone);var e=this.context.index;this.spliceList(e,1);var o={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:o})},onDragUpdate:function(t){n(t.item),i(t.from,t.item,t.oldIndex);var e=this.context.index,o=this.getVmIndex(t.newIndex);this.updatePosition(e,o);var r={element:this.context.element,oldIndex:e,newIndex:o};this.emitChanges({moved:r})},computeFutureIndex:function(t,e){if(!t.element)return 0;var n=[].concat(o(e.to.children)).filter(function(t){return"none"!==t.style.display}),r=n.indexOf(e.related),i=t.component.getVmIndex(r);return-1==n.indexOf(p)&&e.willInsertAfter?i+1:i},onDragMove:function(t,e){var n=this.move;if(!n||!this.realList)return!0;var o=this.getRelatedContextFromMoveEvent(t),i=this.context,a=this.computeFutureIndex(o,t);return r(i,{futureIndex:a}),r(t,{relatedContext:o,draggedContext:i}),n(t,e)},onDragEnd:function(t){this.computeIndexes(),p=null}}}}Array.from||(Array.from=function(t){return[].slice.call(t)});var a=n(82);t.exports=i(a)}()}])});
//# sourceMappingURL=villain-editor.min.js.map